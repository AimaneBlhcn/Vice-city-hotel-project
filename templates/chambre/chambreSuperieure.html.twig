{% extends 'base.html.twig' %}

{% block title %}Chambre Double Sup√©rieure{% endblock %}


{% block stylesheets %}

<link rel="stylesheet" href="/assets/css/chambre.css">


{% endblock %}


{% block body %}


<h1 id='titrePrincipal'>Chambres Double Sup√©rieure</h1>
<h6 id="descriptionPage">D√©couvrez l'√©l√©gance et le confort dans notre chambre double sup√©rieure, id√©ale pour les voyageurs en qu√™te d'un espace spacieux et raffin√©.</h6>

<div class="conteneur">

    <ul id="listeChambre">


        {# chambre = cl√© #}
        {# chambres = 'chambres' dans le render qui contient la variable $chambres #}
        {% for chambre in chambres %}

        <div class="photo">


            {# g√©n√®re une image al√©atoire contenu dans le tableau #}
            {% set image = random(images) %}
            {# {{ dump(image) }} #}

            {# ~ concatenation #}
            <img src="{{ asset('./image/' ~ image) }}" alt="photo" style="width: 100%; height: auto;">

            <h1 id="titre">{{chambre.libelle}}</h1>

            
            <div class="detailsEtreserver">

            {# lors du click on va faire appel √† la fonction avec en parametre l'id de la chambre #}
            <button type="button" id="button" onclick="afficherDetails('{{ chambre.Id }}')"><img src="./img/bouton +.png" alt="bouton+" id="imageButton"> Afficher les d√©tails de la chambre</button>
            
            {# condition si l'utilisateur est connect√© alors renvoi vers la page panier #}
            {# is_granted: v√©rifier si un certain acc√®s (une autorisation) est accord√© √† l'utilisateur actuel dans l'application. #}
            {# "ROLE_USER" : v√©rifier si l'utilisateur actuel poss√®de le r√¥le "ROLE_USER" #}
            {% if is_granted('ROLE_USER') %}
            
            {# bouton pour reserver avec en paremetre l'id de la chambre #}
            <a href="{{ path('cart_add', {'id': chambre.Id}) }}" class="btn btn-outline-warning"><b>R√©server</b></a>
    
            {# s'il n'est pas connect√© alors renvoi vers la page login #}
            {% else %}
 
            <a href="/login" class="btn btn-outline-warning"><b>R√©server</b></a>
 
            {% endif %}

            </div>

            <ul id="details">

                    {# Pour chaque tour de boucle, la div va prendre comme id le numero id de la chambre #}
                    <div class="descriptionChambre" id="description-{{ chambre.Id }}" >

                        <h6>N¬∞ ID de chambre : {{chambre.Id}}</h6>
                        <p>Superficie : {{chambre.Superficie}}</p>
                        <p>Tarif : {{chambre.tarif}} ‚Ç¨ / nuit(s)</p>
                        <p>Etat : {{ chambre.etat ? 'Libre' : 'Occup√©e' }}</p>

                        {% for categorie in categories %}

                        {% if categorie.libelle == 'Chambre double superieure'%}
                        <p>Type de chambre: {{categorie.libelle}}</p>
                        {% endif %}

                        {% endfor %}

                    </div>


                    {# Pour chaque tour de boucle, la div va prendre comme id le numero id de la chambre #}
                    <div class="options" id='options-{{ chambre.Id }}'>

                        <h6>Options: </h6>

                        <option value="vue-mer">Vue sur mer : {{chambre.vueSurMer ? 'oui' : 'non' }}</option>
                        <option value="chaines-carte">Chaine √† la carte: {{ chambre.ChaineaLaCarte ? 'oui' : 'non '}} </option>
                        <option value="climatisation">Climatisation : {{ chambre.climatisation ? 'oui' : 'non' }} </option>
                        <option value="tv-ecran-plat">T√©l√©vision √† √©cran plat : {{ chambre.televisionaEcranPlat ? 'oui' : 'non' }}</option>
                        <option value="telephone">T√©l√©phone : {{ chambre.telephone ? 'oui' : 'non'}} </option>
                        <option value="chaines-satellite">Cha√Ænes satellite: {{ chambre.chainesSatellite ? 'oui' : 'non'}} </option>
                        <option value="chaines-cable">Cha√Ænes du c√¢ble : {{ chambre.chainesSatellite ? 'oui' : 'non'}} </option>
                        <option value="coffre-fort">Coffre-fort : {{ chambre.CoffreFort ? 'oui' : 'non'}} </option>
                        <option value="materiel-repassage">Mat√©riel de repassage : {{ chambre.MaterielDeRepassage ? 'oui' : 'non'}} </option>
                        <option value="wifi-gratuit">Wi-Fi Gratuit : {{ chambre.WifiGratuit ? 'oui' : 'non'}} </option>

                    </div> 
            </ul>

        </div>

        {% else %}

        <h6 colspan="5" class="text-center" style="color:red">Veuillez-nous excuser, toutes nos chambres Junior sont r√©serv√©es üö´</h6>

        {% endfor %}

    </ul>

</div>

<script src="{{asset('assets/js/affichageDetailsChambre.js')}}"></script>

{% endblock %}